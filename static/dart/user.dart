// Code generated by github.com/tinkler/mqttadmin; DO NOT EDIT.
import '../../http.dart';
import './role.dart' as $role show Role;


class UserProfile {
	
	String phoneNo = "";
	
	
	Future<void> save(
		
	) async {
		var response = await D.instance.dio.post('/user/user_profile/save', data: {
			"data": this,
			"args": {  }
		});
		if (response.data['code'] == 0) {
			var respModel = UserProfile.fromJson(response.data['data']['data']);
			assign(respModel);
			
			
		} else {
			throw Exception(response.data['message']);
		}
	}
	
	UserProfile();

	assign(UserProfile other) {
		
		phoneNo = other.phoneNo;
		
	}

	Map<String, dynamic> toJson() {
		return {
			
			"phone_no": phoneNo,
			
		};
	}
	UserProfile.fromJson(Map<String, dynamic> json) {
		
		phoneNo = json["phone_no"];
		
	}
}

class UserRole {
	
	int id = 0;
	
	User? user;
	
	$role.Role? role;
	
	
	Future<void> save(
		
	) async {
		var response = await D.instance.dio.post('/user/user_role/save', data: {
			"data": this,
			"args": {  }
		});
		if (response.data['code'] == 0) {
			var respModel = UserRole.fromJson(response.data['data']['data']);
			assign(respModel);
			
			
		} else {
			throw Exception(response.data['message']);
		}
	}
	
	UserRole();

	assign(UserRole other) {
		
		id = other.id;
		
		user = other.user;
		
		role = other.role;
		
	}

	Map<String, dynamic> toJson() {
		return {
			
			"id": id,
			
			"user": user != null ? user!.toJson() : null,
			
			"role": role != null ? role!.toJson() : null,
			
		};
	}
	UserRole.fromJson(Map<String, dynamic> json) {
		
		id = json["id"];
		
		user = json["user"] == null ? User() : User.fromJson(json["user"]);
		
		role = json["role"] == null ? $role.Role() : $role.Role.fromJson(json["role"]);
		
	}
}

class Auth {
	
	String username = "";
	
	String password = "";
	
	
	Future<User?> login(
		
	) async {
		var response = await D.instance.dio.post('/user/auth/login', data: {
			"data": this,
			"args": {  }
		});
		if (response.data['code'] == 0) {
			var respModel = Auth.fromJson(response.data['data']['data']);
			assign(respModel);
			if (response.data['data']['resp'] != null) {
				return User.fromJson(response.data['data']['resp']);
			} else {
				return null;
			}
			
			
		} else {
			throw Exception(response.data['message']);
		}
	}
	
	Auth();

	assign(Auth other) {
		
		username = other.username;
		
		password = other.password;
		
	}

	Map<String, dynamic> toJson() {
		return {
			
			"username": username,
			
			"password": password,
			
		};
	}
	Auth.fromJson(Map<String, dynamic> json) {
		
		username = json["username"];
		
		password = json["password"];
		
	}
}

class User {
	
	int id = 0;
	
	String username = "";
	
	String email = "";
	
	List<UserProfile> profiles = [];
	
	
	Future<void> save(
		
	) async {
		var response = await D.instance.dio.post('/user/user/save', data: {
			"data": this,
			"args": {  }
		});
		if (response.data['code'] == 0) {
			var respModel = User.fromJson(response.data['data']['data']);
			assign(respModel);
			
			
		} else {
			throw Exception(response.data['message']);
		}
	}
	
	Future<void> addRole(
		$role.Role? role,
		
	) async {
		var response = await D.instance.dio.post('/user/user/add-role', data: {
			"data": this,
			"args": { "role": role, }
		});
		if (response.data['code'] == 0) {
			var respModel = User.fromJson(response.data['data']['data']);
			assign(respModel);
			
			
		} else {
			throw Exception(response.data['message']);
		}
	}
	
	User();

	assign(User other) {
		
		id = other.id;
		
		username = other.username;
		
		email = other.email;
		
		profiles = other.profiles;
		
	}

	Map<String, dynamic> toJson() {
		return {
			
			"id": id,
			
			"username": username,
			
			"email": email,
			
			"profiles": profiles.map((e) => e.toJson()).toList(),
			
		};
	}
	User.fromJson(Map<String, dynamic> json) {
		
		id = json["id"];
		
		username = json["username"];
		
		email = json["email"];
		
		profiles = json["profiles"] == null ? [] : (json["profiles"] as List<dynamic>).map((e) => UserProfile.fromJson(e)).toList();
		
	}
}


