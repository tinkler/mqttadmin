// Code generated by github.com/tinkler/mqttadmin; DO NOT EDIT.
import { Role } from './role';


export interface Auth {
	
	username: string;
	
	password: string;
	
	
	login(): Promise<User> ;
	
}

export interface User {
	
	id: number;
	
	username: string;
	
	email: string;
	
	profile: UserProfile;
	
	
	save(): Promise<void>;
	
	addRole(role: Role, ): Promise<void>;
	
}

export interface UserProfile {
	
	phoneNo: string;
	
	
	save(): Promise<void>;
	
}

export interface UserRole {
	
	id: number;
	
	user: User;
	
	role: Role;
	
	
	save(): Promise<void>;
	
}



export function Auth(): Auth {
	
	return {
		
		

		username: "",
		

		password: "",
		

		

		login(): Promise<User>  {
			
			return postAuth(this, 'login', {}).then((res: { data: any }) => res.data as User);
			
		},
		
		
	};
	
}

// post data by restful api

function postAuth(auth: Auth, method: string, arg: {}): Promise<any> {
	const xhr = new XMLHttpRequest();
	xhr.open("POST", `/user/auth/${method}`, true);
	xhr.setRequestHeader("Content-Type", "application/json");
	return new Promise((resolve, reject) => {
		xhr.onload = () => {
			if (xhr.status === 200) {
				resolve(xhr.response);
			} else {
				reject(new Error(xhr.statusText));
			}
		};
		xhr.onerror = () => {
			reject(new Error(xhr.statusText));
		};
		xhr.send(JSON.stringify({ data: auth, arg: arg }));
	});
}

export function User(): User {
	
	return {
		
		

		id: 0,
		

		username: "",
		

		email: "",
		

		profile: UserProfile(),
		

		

		save(): Promise<void> {
			
			return postUser(this, 'save', {});
			
		},
		

		addRole(role: Role, ): Promise<void> {
			
			return postUser(this, 'add-role', {});
			
		},
		
		
	};
	
}

// post data by restful api

function postUser(user: User, method: string, arg: {}): Promise<any> {
	const xhr = new XMLHttpRequest();
	xhr.open("POST", `/user/user/${method}`, true);
	xhr.setRequestHeader("Content-Type", "application/json");
	return new Promise((resolve, reject) => {
		xhr.onload = () => {
			if (xhr.status === 200) {
				resolve(xhr.response);
			} else {
				reject(new Error(xhr.statusText));
			}
		};
		xhr.onerror = () => {
			reject(new Error(xhr.statusText));
		};
		xhr.send(JSON.stringify({ data: user, arg: arg }));
	});
}

export function UserProfile(): UserProfile {
	
	return {
		
		

		phoneNo: "",
		

		

		save(): Promise<void> {
			
			return postUserProfile(this, 'save', {});
			
		},
		
		
	};
	
}

// post data by restful api

function postUserProfile(userProfile: UserProfile, method: string, arg: {}): Promise<any> {
	const xhr = new XMLHttpRequest();
	xhr.open("POST", `/user/user_profile/${method}`, true);
	xhr.setRequestHeader("Content-Type", "application/json");
	return new Promise((resolve, reject) => {
		xhr.onload = () => {
			if (xhr.status === 200) {
				resolve(xhr.response);
			} else {
				reject(new Error(xhr.statusText));
			}
		};
		xhr.onerror = () => {
			reject(new Error(xhr.statusText));
		};
		xhr.send(JSON.stringify({ data: userProfile, arg: arg }));
	});
}

export function UserRole(): UserRole {
	
	return {
		
		

		id: 0,
		

		user: User(),
		

		role: Role(),
		

		

		save(): Promise<void> {
			
			return postUserRole(this, 'save', {});
			
		},
		
		
	};
	
}

// post data by restful api

function postUserRole(userRole: UserRole, method: string, arg: {}): Promise<any> {
	const xhr = new XMLHttpRequest();
	xhr.open("POST", `/user/user_role/${method}`, true);
	xhr.setRequestHeader("Content-Type", "application/json");
	return new Promise((resolve, reject) => {
		xhr.onload = () => {
			if (xhr.status === 200) {
				resolve(xhr.response);
			} else {
				reject(new Error(xhr.statusText));
			}
		};
		xhr.onerror = () => {
			reject(new Error(xhr.statusText));
		};
		xhr.send(JSON.stringify({ data: userRole, arg: arg }));
	});
}

